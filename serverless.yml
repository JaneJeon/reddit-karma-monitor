service: karma-monitor

provider:
  name: aws
  runtime: nodejs8.10
  memorySize: 128
  stage: prod
  timeout: 3 # Reddit APIs can take a long time to respond
  iamRoleStatements:
    - Effect: Allow
      Resource: "*"
      Action:
        - ses:SendEmail

functions:
  check:
    handler: handler.run
    events:
      - schedule: rate(10 minutes)
    reservedConcurrency: 1